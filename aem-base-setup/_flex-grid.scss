@use 'sass:math';

// pulls variables from variables partial

.flex-container {
  width: 100%;
  padding-right: math.div($gutters, 2);
  padding-left: math.div($gutters, 2);
  margin-right: auto;
  margin-left: auto;

  @include desktop {
    max-width: $grid-width;
  }
}

.row {
  display: flex;
  flex-wrap: wrap;

  @include tablet {
    margin-right: math.div($gutters, -2);
    margin-left: math.div($gutters, -2);
  }
}

%grid-column {
  position: relative;
  width: 100%;
  min-height: 1px; // Prevent columns from collapsing when empty
  padding: 8px math.div($gutters, 2);
}

@for $i from 1 through $columns {
  .col-#{$i} {
    @extend %grid-column;

    @include desktop {
      padding-top: 0;
      padding-bottom: 0;
      width: math.div(100, math.div($columns, $i)) * 1%;
      flex-basis: math.div(100, math.div($columns, $i)) * 1%;
    }
  }

  .offset-#{$i} {
    @include desktop {
      margin-left: math.div(100, math.div($columns, $i)) * 1% !important;
    }
  }
}

@for $i from 1 through math.div($columns, 2) {
  @include tablet-only {
    .row-tablet-cols-#{$i}>* {
      flex: 0 0 calc(100% / #{$i});
      max-width: calc(100% / #{$i});
    }
  }
}
